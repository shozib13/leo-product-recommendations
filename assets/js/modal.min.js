!function(e,t){function a(){let e=localStorage.getItem("lpr-popup-count"),t=e&&JSON.parse(e).count&&JSON.parse(e).time>Date.now()-72e5,a=t?JSON.parse(e).count+1:1,o={count:a,time:Date.now()};localStorage.setItem("lpr-popup-count",JSON.stringify(o))}e.fn.lprModal=function(t){let a=e.extend({action:"open"},t),o=this,l=e('<div class="lpr-modal-overlay show"></div>');function d(){o.removeClass("fadeIn"),e(".lpr-modal-overlay").addClass("fadeIn"),setTimeout(function(){o.removeClass("show"),e(".lpr-modal-overlay").remove(),e("body").css("paddingRight",0),e("body").removeClass("lpr-modal-opened")},200),e("body").trigger("after_close_lpr_modal")}"open"===a.action&&function t(){e("body").trigger("before_open_lpr_modal");let a=window.innerWidth-document.documentElement.clientWidth;return o.addClass("show"),e("body").css("paddingRight",a),e("body").addClass("lpr-modal-opened").prepend(l),setTimeout(function(){o.addClass("fadeIn"),l.addClass("fadeIn")},10),!1}(),"close"===a.action&&d(),o.find(".lpr-modal-close, .lpr-close-modal").click(function(e){return d(),!1}),e(".lpr-modal").click(function(e){this===e.target&&d()})},e(function(){e(document.body).on("added_to_cart",async function(o,...l){let d=function e(){let t=localStorage.getItem("lpr-popup-count"),a=t&&JSON.parse(t).count&&JSON.parse(t).time>Date.now()-72e5;return a?JSON.parse(t).count:0}();lc_ajax_modal.popup_view_times||(lc_ajax_modal.popup_view_times="always");let n="always"===lc_ajax_modal.popup_view_times?1/0:+lc_ajax_modal.popup_view_times;if(n>d){let[,,i]=l,s=i[0],r=e(s).data("product_id");if(!r&&e(s).closest("form").length&&(r=e(s).closest("form").find('[name="add-to-cart"]').val()),e(s).closest(".recommended-products-wrapper").length){let p=e(s).closest(".single-lpr").find(".woocommerce-loop-product__title");window.woodmartThemeModule&&(p=e(s).closest(".single-lpr").find(".wd-entities-title a:last-child")),window.oceanwp&&(p=e(s).closest(".single-lpr").find("li.title a"));let c=p.length?`${p.text()} ${t("has been added to cart.","leo-product-recommendations")}`:t("Item has been added to cart.","leo-product-recommendations"),m=e(s).closest(".lpr-modal").find(".lpr-message").outerHeight(),u=e(s).closest(".lpr-modal").find(".lpr-purchase-notification");u.css("top",m).fadeIn(300).text(c),setTimeout(()=>{u.fadeOut(600)},1500)}else{e("body, .quickview-wrapper .closeqv, .yith-quick-view-overlay, .mfp-wrap, .owp-qv-overlay, .owp-qv-close").click();try{let f=await e.get(lc_ajax_modal.url,{action:"get_popup_data",nonce:lc_ajax_modal.nonce,product_id:r});if(f){let h=e("#lpr-modal-content");if(h.html(f),"slider"===lc_ajax_modal.layout_type){let $=window.innerWidth,g=h.find(".recommended-products-slider"),v=g.find(".single-lpr").length,{autoPlay:w,autoPlaySpeed:y,columnGap:_,isLoop:C,slideBy:b,smartSpeed:I,nextNavIcon:k,prevNavIcon:x,smItems:q,lgItems:M,mdItems:S}=lc_slider_setting,T=!0;v<=M&&(T=!1,C=!1),$<992&&v<=S&&(T=!1,C=!1),$<768&&v<=q&&(T=!1,C=!1),h.find(".recommended-products-slider").owlCarousel({autoplayHoverPause:!0,navElement:"div",mouseDrag:!1,autoplay:w,autoplayTimeout:parseInt(y),margin:parseInt(_),loop:C,items:q,slideBy:b,smartSpeed:parseInt(I),navText:[x,k],nav:!0,responsive:{768:{items:S},992:{items:M}},onInitialize(){e("#lpr-modal").lprModal(),a()}})}else e("#lpr-modal").lprModal(),a();setTimeout(()=>{h.find(".message-text").addClass("lpr__animated animate__lpr_headShake")},200),setTimeout(()=>{h.find(".message-text").addClass("lpr__animated animate__lpr_headShake")},200),setTimeout(()=>{e(".lpr-modal .variations_form").each(function(){e(this).wc_variation_form()}),window.woodmartThemeModule&&woodmartThemeModule.swatchesVariations&&woodmartThemeModule.swatchesVariations(),h.find(".modal-heading").addClass("lpr__animated animate__lpr_headShake"),h.find(".modal-heading-article").addClass("lpr__animated animate__lpr_headShake")},700)}}catch(W){}}}})})}(jQuery,wp.i18n.__);